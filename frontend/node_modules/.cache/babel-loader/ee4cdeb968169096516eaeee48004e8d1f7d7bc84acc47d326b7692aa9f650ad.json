{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive - University of Moratuwa\\\\Desktop\\\\Web3 expert\\\\web3-with-wagmi\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport { useConnect, useAccount, usePrepareContractWrite, useContractWrite } from \"wagmi\";\nimport { MetaMaskConnector } from \"wagmi/connectors/metaMask\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Logo from \"./Moralis_logo.png\";\nimport ABI from \"./abi.json\";\nimport useDebounce from \"./useDebounce\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const {\n    address,\n    isConnected\n  } = useAccount();\n  const {\n    connect\n  } = useConnect({\n    connector: new MetaMaskConnector()\n  });\n  const [userBal, setUserBal] = useState(null);\n  const [sendAmount, setSendAmount] = useState(0);\n  const [receiver, setReceiver] = useState(\"\");\n  const debouncedSendAmount = useDebounce(sendAmount, 500);\n  const debouncedReceiver = useDebounce(receiver, 500);\n  const {\n    config\n  } = usePrepareContractWrite({\n    address: '0x326C977E6efc84E512bB9C30f76E30c160eD06FB',\n    abi: ABI,\n    chainId: 80001,\n    functionName: 'transfer(address,uint256)',\n    args: [debouncedReceiver, debouncedSendAmount],\n    enabled: Boolean(debouncedSendAmount)\n  });\n  const {\n    write\n  } = useContractWrite(config);\n  function changeSendAmount(e) {\n    setSendAmount(e.target.value);\n  }\n  function changeReceiver(e) {\n    setReceiver(e.target.value);\n  }\n  async function getBalance() {\n    const response = await axios.get(\"http://localhost:3000/getBalance\", {\n      params: {\n        address: address\n      }\n    });\n    setUserBal(response.data.balance);\n  }\n  useEffect(() => {\n    if (!isConnected) {\n      setUserBal(null);\n      setReceiver(\"\");\n      setSendAmount(0);\n      return;\n    }\n    getBalance();\n  }, [isConnected, address]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: Logo,\n      alt: \"Logo image\",\n      width: \"102\",\n      height: \"82\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Send ChainLink\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), !isConnected ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: connect,\n      children: \"Connect Your Wallet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Connected Wallet:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), userBal && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"(ChainLink Balance: \", userBal, \" Link)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: sendAmount,\n        onChange: changeSendAmount,\n        placeholder: \"Enter amount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: receiver,\n        onChange: changeReceiver,\n        placeholder: \"Enter recipient\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !write,\n        onClick: () => write === null || write === void 0 ? void 0 : write(),\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"L/iHrGvWoF7AV73A2DlnvwItU0I=\", false, function () {\n  return [useAccount, useConnect, useDebounce, useDebounce, usePrepareContractWrite, useContractWrite];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useConnect","useAccount","usePrepareContractWrite","useContractWrite","MetaMaskConnector","useEffect","useState","axios","Logo","ABI","useDebounce","App","address","isConnected","connect","connector","userBal","setUserBal","sendAmount","setSendAmount","receiver","setReceiver","debouncedSendAmount","debouncedReceiver","config","abi","chainId","functionName","args","enabled","Boolean","write","changeSendAmount","e","target","value","changeReceiver","getBalance","response","get","params","data","balance"],"sources":["C:/Users/User/OneDrive - University of Moratuwa/Desktop/Web3 expert/web3-with-wagmi/frontend/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { useConnect, useAccount, usePrepareContractWrite, useContractWrite } from \"wagmi\";\nimport { MetaMaskConnector } from \"wagmi/connectors/metaMask\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Logo from \"./Moralis_logo.png\";\nimport ABI from \"./abi.json\";\nimport useDebounce from \"./useDebounce\";\n\nfunction App() {\n  const { address, isConnected } = useAccount();\n  const { connect } = useConnect({\n    connector: new MetaMaskConnector(),\n  });\n  const [userBal, setUserBal] = useState(null);\n  const [sendAmount, setSendAmount] = useState(0);\n  const [receiver, setReceiver] = useState(\"\");\n  const debouncedSendAmount = useDebounce(sendAmount, 500);\n  const debouncedReceiver = useDebounce(receiver, 500);\n  const { config } = usePrepareContractWrite({\n    address: '0x326C977E6efc84E512bB9C30f76E30c160eD06FB',\n    abi: ABI,\n    chainId: 80001,\n    functionName: 'transfer(address,uint256)',\n    args: [debouncedReceiver, debouncedSendAmount],\n    enabled: Boolean(debouncedSendAmount)\n  })\n\n  const { write } = useContractWrite(config)\n\n  function changeSendAmount(e){\n    setSendAmount(e.target.value)\n  }\n\n  function changeReceiver(e){\n    setReceiver(e.target.value)\n  }\n\n  async function getBalance() {\n    const response = await axios.get(\"http://localhost:3000/getBalance\", {\n      params: {\n        address: address,\n      },\n    });\n\n    setUserBal(response.data.balance);\n  }\n\n\n  useEffect(() => {\n    if (!isConnected) {\n      setUserBal(null);\n      setReceiver(\"\");\n      setSendAmount(0);\n      return;\n    }\n\n    getBalance();\n  }, [isConnected, address]);\n\n  return (\n    <div className=\"App\">\n      <img src={Logo} alt=\"Logo image\" width=\"102\" height=\"82\" />\n      <h1>Send ChainLink</h1>\n      {!isConnected ? (\n        <button onClick={connect}>Connect Your Wallet</button>\n      ) : (\n        <>\n          <h2>Connected Wallet:</h2>\n          <h3>{address}</h3>\n          {userBal && <p>(ChainLink Balance: {userBal} Link)</p>}\n          <input type=\"number\" value={sendAmount} onChange={changeSendAmount} placeholder=\"Enter amount\" />\n          <br/>\n          <input type=\"text\" value={receiver} onChange={changeReceiver} placeholder=\"Enter recipient\" />\n          <br/>\n          <button disabled={!write} onClick={()=>write?.()}>Send</button>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}